10 REM GAME LEVEL EDITOR
10 _SPRDISABLE:DEFINT A-Z:COLOR 15,1,1:SCREEN 2,2,0
20 A=0:I=0:J=0:K=0:O=0:EX=0:EY=0:A$=""
30 REM BASIC SPRITE SUBSYSTEM VARIABLES
30 SU=0:DIM SA(3,31):DIM AD(3)
70 REM PLATFORM LOCATIONS
70 DIM PL(24,31)
80 _MAXAUTOSGAMS(0):_MAXANIMSPRS(0):_MAXANIMDEFS(0):_MAXANIMITEMS(0)
90 _MAXANIMITEMS(4):_MAXANIMDEFS(2):_MAXANIMSPRS(4)

1000 BLOAD"FOREST.SC2",S
1490 REM PLATFORM
1490 RESTORE 30000:FOR I=0 TO 15:READ A:POKE &HB000+I,A:NEXT:_MEMCPY(&HB000,&H7000,16)
1500 FOR I=0 TO 7:VPOKE BASE(11)+2040+I,&H7F:VPOKE BASE(11)+4088+I,&H7F:VPOKE BASE(11)+6136+I,&H7F:NEXT
1510 REM SPRITE PATTERNS 0-29
1510 GOSUB 49890
1530 REM EDITOR POINTER SPRITE PATTERN 63
1530 O=BASE(14)+63*32:FOR I=0 TO 7:VPOKE O+I,255:NEXT
1600 REM DEFINE ANIMATION ITEMS - PATTERN AND COLOR CHANGES FOR SPRITES
1600 RESTORE 50000:READ A:FOR I=0 TO A-1:FOR J=0 TO 2:READ AD(J):NEXT J:_ANIMITEMPAT(I,AD(0),AD(1),AD(2)):NEXT I
1605 REM DEFINE ANIMATION ITEMS - PATTERN DEFINITION CHANGES
1605 READ K:FOR I=A TO A+K-1:FOR J=0 TO 1:READ AD(J):NEXT J:_ANIMITEMPTR(I,AD(0),AD(1)):NEXT I
1610 REM DEFINE ANIMATIONS
1610 READ A:FOR I=0 TO A-1:READ K:FOR J=0 TO K-1:READ AD(J):NEXT J:_ANIMDEF(I,K,AD):NEXT I
1620 REM DEFINE SPRITE ANIMATIONS
1620 READ A:FOR I=0 TO A-1:FOR J=0 TO 2:READ AD(J):NEXT J:_ANIMSPRITE(I,AD(0),AD(1),AD(2)):NEXT I
1630 REM DEFINE CHARACTER ANIMATIONS
1630 READ K:FOR I=A TO A+K-1:FOR J=0 TO 2:READ AD(J):NEXT J:_ANIMCHAR(I,AD(0),AD(1),AD(2)):NEXT I
1700 ON ERROR GOTO 1770
1710 BLOAD"LEVEL.BIN":_MEMCPY(&HC800,VARPTR(PL(0,0)),1600)
1730 O=BASE(10):FOR J=0 TO 23:FOR I=0 TO 31:IF PL(J,I)=1 THEN VPOKE O,255 ELSE PL(J,I)=0
1740 O=O+1:NEXT I,J
1760 GOTO 1980
1770 BEEP:BEEP:BEEP
1980 _SPRENABLE (SA,SU,1):FOR I=0 TO 30:SA(0,I)=256:SA(1,I)=256:SA(2,I)=I:SA(3,I)=4:PL(24,I)=1:NEXT
2013 SA(0,31)=0:SA(1,31)=0:SA(2,31)=63:SA(3,31)=15
2050 FOR I=0 TO 3:_ANIMSTART(I):NEXT
2060 ON STOP GOSUB 7000:STOP ON
2070 ON ERROR GOTO 7000

3000 A$=INKEY$
3001 IF A$=CHR$(28) THEN EX=EX+1:GOTO 3100
3002 IF A$=CHR$(29) THEN EX=EX-1:GOTO 3100
3003 IF A$=CHR$(30) THEN EY=EY-1:GOTO 3120
3004 IF A$=CHR$(31) THEN EY=EY+1:GOTO 3120
3005 IF A$=CHR$(32) THEN GOSUB 10000:GOTO 3000
3006 IF A$="S" OR A$="s" THEN GOSUB 11000:GOTO 3000
3100 IF EX<0 THEN EX=0
3110 IF EX>31 THEN EX=31
3115 GOTO 3140
3120 IF EY<0 THEN EY=0
3130 IF EY>23 THEN EY=23
3140 SA(0,31)=EY*8:SA(1,31)=EX*8:SU=1
3150 GOTO 3000

7000 FOR I=0 TO 3:_ANIMSTOP(I):NEXT:_SPRDISABLE:_SNDPLYOFF
7010 SCREEN 0
7020 END

10000 REM TOGGLE PLATFORM / STRIG (1) SUBROUTINE
10000 A=-(PL(EY,EX)=0):PL(EY,EX)=A:VPOKE BASE(10)+EY*32+EX,A*255+(-A+1)*((EY*32+EX) MOD 256)
10040 RETURN

11000 REM SAVE PLATFORMS / STRIG (3) SUBROUTINE
11000 _MEMCPY(VARPTR(PL(0,0)),&HC800,1600):BSAVE"LEVEL.BIN",&HC800,&HCE3F
11010 _SPRDISABLE:BSAVE"LVL.SC2",0,&H3FFF,S:_SPRENABLE (SA,SU,1)
11030 RETURN

30000 REM PLATFORM ANIMATION DEFINITION
30000 DATA &H66,&HCC,&H99,&H33,&H66,&HCC,&H99,&H33
30010 DATA &H99,&H33,&H66,&HCC,&H99,&H33,&H66,&HCC

40000 ' --- Player R1
40010 ' color 1
40020 DATA &H07,&H08,&H08,&H04,&H04,&H06,&H08,&H10
40030 DATA &H2C,&H4C,&H34,&H04,&H09,&H16,&H24,&H18
40040 DATA &HC0,&H20,&HA0,&H20,&H40,&HFC,&H02,&H3C
40050 DATA &H20,&H20,&H20,&H20,&H90,&H50,&H48,&H30
40060 ' color 15
40070 DATA &H00,&H07,&H07,&H03,&H03,&H01,&H07,&H0F
40080 DATA &H13,&H33,&H03,&H03,&H06,&H08,&H18,&H00
40090 DATA &H00,&HC0,&H40,&HC0,&H80,&H00,&HFC,&HC0
40100 DATA &HC0,&HC0,&HC0,&HC0,&H60,&H20,&H30,&H00
40110 ' 
40120 ' --- Player R2
40130 ' color 1
40140 DATA &H07,&H08,&H08,&H04,&H04,&H06,&H08,&H08
40150 DATA &H10,&H10,&H0C,&H04,&H05,&H05,&H09,&H0E
40160 DATA &HC0,&H20,&HA0,&H20,&H40,&HE0,&H10,&H08
40170 DATA &H24,&H38,&H20,&H20,&HA0,&HA0,&H90,&HF0
40180 ' color 15
40190 DATA &H00,&H07,&H07,&H03,&H03,&H01,&H07,&H07
40200 DATA &H0F,&H0F,&H03,&H03,&H02,&H02,&H06,&H00
40210 DATA &H00,&HC0,&H40,&HC0,&H80,&H00,&HE0,&HF0
40220 DATA &HD8,&HC0,&HC0,&HC0,&H40,&H40,&H60,&H00
40230 ' 
40240 ' --- Player R3
40250 ' color 1
40260 DATA &H07,&H08,&H08,&H04,&H04,&H06,&H08,&H08
40270 DATA &H08,&H08,&H04,&H04,&H04,&H04,&H09,&H07
40280 DATA &HC0,&H20,&HA0,&H20,&H40,&HE0,&H10,&H10
40290 DATA &H10,&H10,&H20,&H20,&H40,&H40,&H20,&HC0
40300 ' color 15
40310 DATA &H00,&H07,&H07,&H03,&H03,&H01,&H07,&H07
40320 DATA &H07,&H07,&H03,&H03,&H03,&H03,&H06,&H00
40330 DATA &H00,&HC0,&H40,&HC0,&H80,&H00,&HE0,&HE0
40340 DATA &HE0,&HE0,&HC0,&HC0,&H80,&H80,&HC0,&H00
40350 ' 
40360 ' --- Player L1
40370 ' color 1
40380 DATA &H03,&H04,&H05,&H04,&H02,&H3F,&H40,&H3C
40390 DATA &H04,&H04,&H04,&H04,&H09,&H0A,&H12,&H0C
40400 DATA &HE0,&H10,&H10,&H20,&H20,&H60,&H10,&H08
40410 DATA &H34,&H32,&H2C,&H20,&H90,&H68,&H24,&H18
40420 ' color 15
40430 DATA &H00,&H03,&H02,&H03,&H01,&H00,&H3F,&H03
40440 DATA &H03,&H03,&H03,&H03,&H06,&H04,&H0C,&H00
40450 DATA &H00,&HE0,&HE0,&HC0,&HC0,&H80,&HE0,&HF0
40460 DATA &HC8,&HCC,&HC0,&HC0,&H60,&H10,&H18,&H00
40470 ' 
40480 ' --- Player L2
40490 ' color 1
40500 DATA &H03,&H04,&H05,&H04,&H02,&H07,&H08,&H10
40510 DATA &H24,&H1C,&H04,&H04,&H05,&H05,&H09,&H0F
40520 DATA &HE0,&H10,&H10,&H20,&H20,&H60,&H10,&H10
40530 DATA &H08,&H08,&H30,&H20,&HA0,&HA0,&H90,&H70
40540 ' color 15
40550 DATA &H00,&H03,&H02,&H03,&H01,&H00,&H07,&H0F
40560 DATA &H1B,&H03,&H03,&H03,&H02,&H02,&H06,&H00
40570 DATA &H00,&HE0,&HE0,&HC0,&HC0,&H80,&HE0,&HE0
40580 DATA &HF0,&HF0,&HC0,&HC0,&H40,&H40,&H60,&H00
40590 ' 
40600 ' --- Player L3
40610 ' color 1
40620 DATA &H03,&H04,&H05,&H04,&H02,&H07,&H08,&H08
40630 DATA &H08,&H08,&H04,&H04,&H02,&H02,&H04,&H03
40640 DATA &HE0,&H10,&H10,&H20,&H20,&H60,&H10,&H10
40650 DATA &H10,&H10,&H20,&H20,&H20,&H20,&H90,&HE0
40660 ' color 15
40670 DATA &H00,&H03,&H02,&H03,&H01,&H00,&H07,&H07
40680 DATA &H07,&H07,&H03,&H03,&H01,&H01,&H03,&H00
40690 DATA &H00,&HE0,&HE0,&HC0,&HC0,&H80,&HE0,&HE0
40700 DATA &HE0,&HE0,&HC0,&HC0,&HC0,&HC0,&H60,&H00
40710 ' 
40720 ' --- Fox R1
40730 ' color 1
40740 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40750 DATA &H00,&H00,&H00,&H3F,&H40,&H40,&HB3,&H4C
40760 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40770 DATA &H0A,&H15,&H21,&HC9,&H01,&H1A,&H24,&HC0
40780 ' color 11
40790 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40800 DATA &H00,&H00,&H00,&H00,&H3F,&H3F,&H4C,&H00
40810 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40820 DATA &H00,&H0A,&H1E,&H36,&HFE,&HE4,&HC0,&H00
40830 ' 
40840 ' --- Fox R2
40850 ' color 1
40860 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40870 DATA &H00,&H00,&H00,&H3F,&H40,&H80,&H79,&H06
40880 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40890 DATA &H0A,&H35,&H41,&H85,&H01,&H0A,&H94,&H60
40900 ' color 11
40910 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40920 DATA &H00,&H00,&H00,&H00,&H3F,&H7F,&H06,&H00
40930 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40940 DATA &H00,&H0A,&H3E,&H7A,&HFE,&HF4,&H60,&H00
40950 ' 
40960 ' --- Fox R3
40970 ' color 1
40980 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
40990 DATA &H00,&H00,&H00,&H3F,&H40,&H80,&H66,&H19
41000 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H0A
41010 DATA &H15,&H21,&H45,&H81,&H1A,&H14,&H60,&H80
41020 ' color 11
41030 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41040 DATA &H00,&H00,&H00,&H00,&H3F,&H7F,&H19,&H00
41050 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41060 DATA &H0A,&H1E,&H3A,&H7E,&HE4,&HE0,&H80,&H00
41070 ' 
41080 ' --- Fox L1
41090 ' color 1
41100 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41110 DATA &H50,&HA8,&H84,&H93,&H80,&H58,&H24,&H03
41120 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41130 DATA &H00,&H00,&H00,&HFC,&H02,&H02,&HCD,&H32
41140 ' color 11
41150 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41160 DATA &H00,&H50,&H78,&H6C,&H7F,&H27,&H03,&H00
41170 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41180 DATA &H00,&H00,&H00,&H00,&HFC,&HFC,&H32,&H00
41190 ' 
41200 ' --- Fox L2
41210 ' color 1
41220 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41230 DATA &H50,&HAC,&H82,&HA1,&H80,&H50,&H29,&H06
41240 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41250 DATA &H00,&H00,&H00,&HFC,&H02,&H01,&H9E,&H60
41260 ' color 11
41270 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41280 DATA &H00,&H50,&H7C,&H5E,&H7F,&H2F,&H06,&H00
41290 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41300 DATA &H00,&H00,&H00,&H00,&HFC,&HFE,&H60,&H00
41310 ' 
41320 ' --- Fox L3
41330 ' color 1
41340 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H50
41350 DATA &HA8,&H84,&HA2,&H81,&H58,&H28,&H06,&H01
41360 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41370 DATA &H00,&H00,&H00,&HFC,&H02,&H01,&H66,&H98
41380 ' color 11
41390 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41400 DATA &H50,&H78,&H5C,&H7E,&H27,&H07,&H01,&H00
41410 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H00
41420 DATA &H00,&H00,&H00,&H00,&HFC,&HFE,&H98,&H00
41430 ' 
41440 ' --- Snake R1
41450 ' color 1
41460 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H0C,&H12
41470 DATA &H12,&H23,&H2B,&H2B,&H59,&H94,&H63,&H00
41480 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H60,&H9E
41490 DATA &H93,&H11,&H5A,&H4A,&H62,&H64,&H98,&H00
41500 ' color 13
41510 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H0C
41520 DATA &H0C,&H1C,&H14,&H14,&H26,&H63,&H00,&H00
41530 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H60
41540 DATA &H6C,&HEE,&HA4,&HB4,&H9C,&H98,&H00,&H00
41550 ' 
41560 ' --- Snake R2
41570 ' color 1
41580 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H33,&H4C
41590 DATA &H4C,&H44,&H54,&H56,&HB2,&HA8,&HC7,&H00
41600 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H1C,&HA6
41610 DATA &H62,&H24,&HA8,&H88,&HC8,&HC8,&H30,&H00
41620 ' color 13
41630 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H33
41640 DATA &H33,&H3B,&H2B,&H29,&H4D,&H47,&H00,&H00
41650 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H18
41660 DATA &H9C,&HD8,&H50,&H70,&H30,&H30,&H00,&H00
41670 ' 
41680 ' --- Snake L1
41690 ' color 1
41700 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H06,&H79
41710 DATA &HC9,&H88,&H5A,&H52,&H46,&H26,&H19,&H00
41720 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H30,&H48
41730 DATA &H48,&HC4,&HD4,&HD4,&H9A,&H29,&HC6,&H00
41740 ' color 13
41750 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H06
41760 DATA &H36,&H77,&H25,&H2D,&H39,&H19,&H00,&H00
41770 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H30
41780 DATA &H30,&H38,&H28,&H28,&H64,&HC6,&H00,&H00
41790 ' 
41800 ' --- Snake L2
41810 ' color 1
41820 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H38,&H65
41830 DATA &H46,&H24,&H15,&H11,&H13,&H13,&H0C,&H00
41840 DATA &H00,&H00,&H00,&H00,&H00,&H00,&HCC,&H32
41850 DATA &H32,&H22,&H2A,&H6A,&H4D,&H15,&HE3,&H00
41860 ' color 13
41870 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&H18
41880 DATA &H39,&H1B,&H0A,&H0E,&H0C,&H0C,&H00,&H00
41890 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&HCC
41900 DATA &HCC,&HDC,&HD4,&H94,&HB2,&HE2,&H00,&H00
41910 ' 
41920 ' --- Bat 1
41930 ' color 1
41940 DATA &H00,&H00,&H03,&H24,&H56,&H5C,&H48,&H88
41950 DATA &H88,&H84,&H84,&H84,&H8C,&H72,&H01,&H00
41960 DATA &H00,&H00,&H80,&H48,&HD4,&H74,&H24,&H22
41970 DATA &H22,&H42,&H42,&H42,&H62,&H9C,&H00,&H00
41980 ' color 4
41990 DATA &H00,&H00,&H00,&H03,&H21,&H23,&H37,&H77
42000 DATA &H77,&H7B,&H7B,&H7B,&H73,&H01,&H00,&H00
42010 DATA &H00,&H00,&H00,&H80,&H08,&H88,&HD8,&HDC
42020 DATA &HDC,&HBC,&HBC,&HBC,&H9C,&H00,&H00,&H00
42030 ' 
42040 ' --- Bat 2
42050 ' color 1
42060 DATA &H00,&H00,&H23,&H54,&H56,&H5C,&H88,&H88
42070 DATA &H88,&H84,&H84,&H44,&H4C,&H34,&H02,&H01
42080 DATA &H00,&H00,&H88,&H54,&HD4,&H74,&H22,&H22
42090 DATA &H22,&H42,&H42,&H44,&H64,&H58,&H80,&H00
42100 ' color 4
42110 DATA &H00,&H00,&H00,&H23,&H21,&H23,&H77,&H77
42120 DATA &H77,&H7B,&H7B,&H3B,&H33,&H03,&H01,&H00
42130 DATA &H00,&H00,&H00,&H88,&H08,&H88,&HDC,&HDC
42140 DATA &HDC,&HBC,&HBC,&HB8,&H98,&H80,&H00,&H00
42150 ' 
42160 ' --- Bat 3
42170 ' color 1
42180 DATA &H00,&H23,&H54,&H4E,&H44,&H44,&H40,&H40
42190 DATA &H40,&H44,&H44,&H44,&H2C,&H14,&H02,&H01
42200 DATA &H00,&H88,&H54,&HE4,&H44,&H44,&H04,&H04
42210 DATA &H04,&H44,&H44,&H44,&H68,&H50,&H80,&H00
42220 ' color 4
42230 DATA &H00,&H00,&H23,&H31,&H3B,&H3B,&H3F,&H3F
42240 DATA &H3F,&H3B,&H3B,&H3B,&H13,&H03,&H01,&H00
42250 DATA &H00,&H00,&H88,&H18,&HB8,&HB8,&HF8,&HF8
42260 DATA &HF8,&HB8,&HB8,&HB8,&H90,&H80,&H00,&H00
42270 ' 
42280 ' --- Key
42290 ' color 1
42300 DATA &H18,&H24,&H42,&H99,&H99,&H41,&H20,&H1C
42310 DATA &H02,&H01,&H00,&H00,&H00,&H00,&H00,&H00
42320 DATA &H00,&H00,&H00,&H00,&H00,&H00,&HA0,&H50
42330 DATA &H28,&H10,&HA0,&H40,&H00,&H00,&H00,&H00
42340 ' color 15
42350 DATA &H00,&H18,&H3C,&H66,&H66,&H3E,&H1F,&H03
42360 DATA &H01,&H00,&H00,&H00,&H00,&H00,&H00,&H00
42370 DATA &H00,&H00,&H00,&H00,&H00,&H00,&H00,&HA0
42380 DATA &HD0,&HE0,&H40,&H00,&H00,&H00,&H00,&H00
49880 DATA -1
49890 REM -- LOAD SPRITES
49890 RESTORE 40000:O=BASE(14)
49900 READ A: IF A=-1 THEN RETURN ELSE VPOKE O,A:O=O+1:GOTO 49900

50000 REM PATTERN AND COLOR CHANGE ANIMATIONS - NUMBER
50000 DATA 2
50010 REM ANIMATION - DEFINITIONS (DURATION, PATTERN, COLOR)
50070 REM EDITOR POINTER
50070 DATA 25,63,15,25,63,0

50500 REM PATTERN DEFINITION CHANGE ANIMATIONS - NUMBER
50500 DATA 2
50510 REM ANIMATION - DEFINITONS (DURATION, POINTER)
50510 REM PLATFORM
50510 DATA 10,&H7000,10,&H7008

51000 REM ANIMATION DEFINITIONS (SIZE,ANIMATION ITEMS,...)
51000 REM TOTAL NUMBER
51000 DATA 2
51070 REM EDITOR POINTER ANIMATION DEFINITION
51070 DATA 2,0,1
51120 REM PLATFORM
51120 DATA 2,2,3

52000 REM SPRITE ANIMATIONS (SPRITE NUMBER, ANIMATION DEFINITION, CYCLIC FLAG)
52000 REM TOTAL NUMBER
52000 DATA 1
52070 REM BLINKING EDITOR CURSOR
52070 DATA 31,0,1

53000 REM CHARACTER ANIMATIONS (CHARACTER NUMBER, ANIMATION DEFINITION, CYCLIC FLAG)
53000 REM TOTAL NUMBER
53000 DATA 3
53010 REM PLATFORM
53010 DATA 255,1,1
53020 DATA 511,1,1
53030 DATA 767,1,1